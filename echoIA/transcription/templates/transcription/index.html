{% load static %}

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transcrição de Áudio</title>
    {% csrf_token %}
    <link rel="stylesheet" href="{% static 'transcription/style.css' %}"> <!-- Link para o arquivo CSS -->
</head>
<body>
    <h1>Transcrição de Áudio</h1>
    <button id="start-recording">Iniciar Gravação</button>
    <button id="stop-recording" disabled>Parar Gravação</button>
    <button id="transcribe" disabled>Transcrever</button>

    <!-- Campo fixo para exibir a transcrição e o status de upload -->
    <div id="transcription-result">
        <p id="transcription-text">A transcrição aparecerá aqui...</p>
    </div>
    <p id="upload-status"></p>

    <!-- Seção para exibir o histórico de transcrições -->
    <h2>Histórico de Transcrições</h2>
    <div id="transcription-history">
        {% if user_transcriptions %}
            <ul>
                {% for transcription in user_transcriptions %}
                    <li>
                        <strong>{{ transcription.created_at|date:"d/m/Y H:i" }}</strong>: 
                        {{ transcription.text }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>Nenhuma transcrição encontrada.</p>
        {% endif %}
    </div>

    <script src="{% static 'transcription/script.js' %}"></script> <!-- Link para o arquivo JS -->
</body>
</html>
